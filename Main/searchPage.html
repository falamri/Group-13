<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery Canvas</title>
    <link rel="stylesheet" href="Css/Mobile.css">
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="../node_modules/@popperjs/core/dist/umd/popper.min.js"></script>
    <script src="../node_modules/jquery/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="./Css/styles.css">
  
    <style>
        .artist-info {
          margin-bottom: 20px;
          border-bottom: 1px solid #ccc;
          padding-bottom: 10px;
        }
      </style>

    </head>
<body>

<nav-header></nav-header>


    <div class="betweenTwoElements"></div>

    <div id="artistList"></div>

  <info-footer class="mt-auto"></info-footer>
    
</body>
  <script src="./js/main.js"></script>
  <script src="./js/custom_header.js"></script>
  <script src="./js/custom_footer.js"></script>

<!-- <script src="./js/artworkCard.js"></script> -->
<script>
  const urlParams = new URLSearchParams(window.location.search);
  const artistId = urlParams.get('artistId');

  if (artistId) {
    fetch(`/search?query=${artistId}`)
      .then(response => response.json())
      .then(artistData => {
        const artistListDiv = document.getElementById('artistList');

        if (artistData.length > 0) {
          // Display each artist's information
          artistData.forEach(artist => {
            const artistInfoDiv = document.createElement('div');
            artistInfoDiv.classList.add('artist-info');
            artistInfoDiv.innerHTML = `
              <p>Username: ${artist.username}</p>
              <p>Name: ${artist.fname} ${artist.lname}</p>
              <p>Nationality: ${artist.nationality}</p>
              <!-- You can display more information here as needed -->
            `;
            artistListDiv.appendChild(artistInfoDiv);
          });
        } else {
          // If no artist data is available
          artistListDiv.innerHTML = '<p>No artist information available</p>';
        }
      })
      .catch(error => {
        console.error('Error fetching artist data:', error);
        const artistListDiv = document.getElementById('artistList');
        artistListDiv.innerHTML = '<p>Error fetching artist information</p>';
      });
  } else {
    // Handle case where artistId is not available
    const artistListDiv = document.getElementById('artistList');
    artistListDiv.innerHTML = '<p>No artist information available</p>';
  }
</script>
</body>
</html>